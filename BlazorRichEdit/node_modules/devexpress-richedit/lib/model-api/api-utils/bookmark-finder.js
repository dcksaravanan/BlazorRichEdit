"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var bookmarks_manipulator_1 = require("../../core/model/manipulators/bookmarks-manipulator");
var algorithms_1 = require("@devexpress/utils/lib/intervals/algorithms");
var list_1 = require("@devexpress/utils/lib/utils/list");
var number_1 = require("@devexpress/utils/lib/utils/map/number");
function findBookmarkByInterval(sd, intervals) {
    var bkms = [];
    algorithms_1.IntervalAlgorithms.handleAffectedObjects(sd.bookmarks, algorithms_1.IntervalAlgorithms.getMergedIntervals(intervals, true), function (bkm, _index, interval, intersection) {
        if (intersection.length || bkm.length == 0 || intersection.start == bkm.start ||
            (interval.length == 0 && interval.start < bkm.end))
            bkms.push(bkm);
    }, bookmarks_manipulator_1.BookmarksManipulator.findBookmarkStartIndex);
    return bkms;
}
exports.findBookmarkByInterval = findBookmarkByInterval;
function findBookmarkByName(documentModel, check) {
    var bkms = [];
    number_1.NumberMapUtils.forEach(documentModel.subDocuments, function (sd) {
        list_1.ListUtils.forEach(sd.bookmarks, function (bkm) {
            if (check(bkm))
                bkms.push(bkm);
        });
    });
    return bkms;
}
exports.findBookmarkByName = findBookmarkByName;
